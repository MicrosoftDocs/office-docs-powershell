### YamlMime:PowershellCmdlet
summary: |-
  Modifies the state of a Persistent Chat service pool.
  Persistent Chat pools can be in one of two states: Normal, in which the pool uses its primary databases; or FailedOver, in which the pool uses the backup databases defined in the topology.
  This cmdlet was introduced in Lync Server 2013.
module: SkypeForBusiness
notes: ""
inputs:
- name: <xref href=" " data-throw-if-not-resolved="False" />
  description: |-
    The `Set-CsPersistentChatState` cmdlet accepts pipelined instances of the Microsoft.Rtc.Management.WritableConfig.Settings.PersistentChat.PersistentChatstate object.
outputs:
- name: <xref href=" " data-throw-if-not-resolved="False" />
  description: |-
    None.
    Instead, the `Set-CsPersistentChatState` cmdlet modifies existing instances of the Microsoft.Rtc.Management.WritableConfig.Settings.PersistentChat.PersistentChatState object.
links:
- text: Get-CsPersistentChatState
  href: Get-CsPersistentChatState.yml
- text: Set-CsPersistentChatActiveServer
  href: Set-CsPersistentChatActiveServer.yml
syntaxes:
- >-
  Set-CsPersistentChatState [[-Identity] <XdsIdentity>] [-Confirm] [-Force] [-PoolState <PoolState>] [-WhatIf]

   [<CommonParameters>]
- >-
  Set-CsPersistentChatState [-Confirm] [-Force] [-Instance <PSObject>] [-PoolState <PoolState>] [-WhatIf]

   [<CommonParameters>]
examples:
- title: '-------------------------- Example 1 --------------------------'
  code: |-
    Set-CsPersistentChatState -Identity "PersistentChatServer:atl-gc-001.litwareinc.com" -PoolState "FailedOver"
  description: |-
    The command shown in Example 1 sets the pool state for the Persistent Chat server atl-gc-001.litwareinc.com to FailedOver.
  summary: ""
parameters:
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before executing the command.

  defaultValue: None
  position: Named
  aliases: cf
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Force
  description: |+
    Suppresses the display of any non-fatal error message that might arise when running the command.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  parameterValueGroup: ""
- type: <xref href="XdsIdentity" data-throw-if-not-resolved="False" />
  name: Identity
  description: |+
    Service Identity of the Persistent Chat pool where the new service state will be applied.
    For example:

    `-Identity PersistentChatServer:atl-persistentchat-001.litwareinc.com`

  defaultValue: None
  position: "2"
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  parameterValueGroup: ""
- type: <xref href="PSObject" data-throw-if-not-resolved="False" />
  name: Instance
  description: |+
    Allows you to pass a reference to an object to the cmdlet rather than set individual parameter values.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  parameterValueGroup: ""
- type: <xref href="PoolState" data-throw-if-not-resolved="False" />
  name: PoolState
  description: |+
    Current state of the Persistent Chat pool.
    Valid values are:

    * Normal
    * FailedOver

    The default value is Normal.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Describes what would happen if you executed the command without actually executing the command.

  defaultValue: None
  position: Named
  aliases: wi
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  parameterValueGroup: ""
applicable:
- Lync Server 2013
- Skype for Business Server 2015
uid: SkypeForBusiness.Set-CsPersistentChatState
name: Set-CsPersistentChatState
description: |-
  The `Get-CsPersistentChatState` cmdlet returns the state of one or more Persistent Chat pools.
  Persistent Chat pools can be in either the Normal state (in which the pool uses its primary databases) or in a FailedOver state, in which the pool uses its backup databases.
  You can use the `Set-CsPersistentChatState` cmdlet to change the state of a Persistent Chat pool; when you change the state of the pool, Skype for Business Server will automatically change the state of each individual server in the pool.
  To change the state of an individual chat server, use the `Set-CsPersistentChatActiveServer` cmdlet.

  Skype for Business Server Control Panel: The functions carried out by the `Set-CsPersistentChatState` cmdlet are not available in the Skype for Business Server Control Panel.
metadata:
  external help file: Microsoft.Rtc.Management.dll-help.xml
  online version: https://learn.microsoft.com/powershell/module/skype/set-cspersistentchatstate
  applicable: Lync Server 2013, Skype for Business Server 2015
  title: Set-CsPersistentChatState
  schema: 2.0.0
  manager: rogupta
  author: hirenshah1
  ms.author: hirshah
  ms.reviewer: ""
