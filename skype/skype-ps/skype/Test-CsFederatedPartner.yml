### YamlMime:PowershellCmdlet
summary: |-
  Verifies the ability to connect to a federated domain.
  This cmdlet was introduced in Lync Server 2010.
module: SkypeForBusiness
notes: ""
inputs:
- name: <xref href=" " data-throw-if-not-resolved="False" />
  description: |-
    None.
    `Test-CsFederatedPartner` does not accept pipelined input.
outputs:
- name: <xref href=" " data-throw-if-not-resolved="False" />
  description: |-
    `Test-CsFederatedPartner` returns an instance of the Microsoft.Rtc.SyntheticTransactions.TaskOutput object.
links:
- text: Get-CsAllowedDomain
  href: Get-CsAllowedDomain.yml
syntaxes:
- >-
  Test-CsFederatedPartner [-TargetFqdn] <String> [-Domain] <String> [-Certificate <X509Certificate2>]

   [-ProxyFqdn <String>] [-Force] [-Verbose] [-OutVerboseVariable <String>] [-OutLoggerVariable <String>]

   [<CommonParameters>]
examples:
- title: '-------------------------- Example 1 --------------------------'
  code: |-
    Test-CsFederatedPartner -TargetFqdn accessproxy.litwareinc.com -Domain fabrikam.com
  description: |-
    The command shown in Example 1 verifies the connection between the local access proxy server (accessproxy.litwareinc.com) and the federated domain Fabrikam.com.
    Note that TargetFqdn must point to the internal Edge Server FQDN to which federated SIP traffic is directed.
  summary: ""
- title: '-------------------------- Example 2 --------------------------'
  code: |-
    Test-CsFederatedPartner -TargetFqdn accessproxy.litwareinc.com -Domain push.lync.com -ProxyFqdn sipfed.online.lync.com
  description: |-
    Example 2 shows how you can test the connection between your domain and the Lync Server Push Notification Service.
    You must have configured this service as a hosting provider and must have added push.lync.com to your list of allowed domains for this test to succeed.
    For more information, see Configuring for push notifications in Lync Server 2013.
  summary: ""
- title: '-------------------------- Example 3 --------------------------'
  code: |-
    Get-CsAllowedDomain | ForEach-Object {Test-CsFederatedPartner -TargetFqdn accessproxy.litwareinc.com -Domain $_.Identity}
  description: |-
    In Example 3, connectivity is verified for all the domains on your allowed domains list.
    To do this, the command first uses the `Get-CsAllowedDomain` cmdlet to retrieve a collection of all your allowed domains.
    That collection is then piped to the `ForEach-Object` cmdlet.
    In turn, `ForEach-Object` runs the `Test-CsFederatedPartner` cmdlet against each domain in the collection.
  summary: ""
parameters:
- type: <xref href="X509Certificate2" data-throw-if-not-resolved="False" />
  name: Certificate
  description: |+
    Enables you to provide an X509 certificate for authentication purposes when connecting to the federated domain.

  defaultValue: None
  position: Named
  aliases: ce
  applicable:
  - Lync Server 2010
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: Domain
  isRequired: true
  description: |+
    Fully qualified domain name (FQDN) of the federated domain.
    For example: `-Domain "fabrikam.com"`.

  defaultValue: None
  position: "3"
  aliases: d
  applicable:
  - Lync Server 2010
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Force
  description: |+
    Suppresses the display of any non-fatal error message that might occur when running the command.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2010
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: OutLoggerVariable
  description: |+
    When present, detailed output from running the cmdlet will be stored in the specified variable.
    This variable includes a pair of methods - ToHTML and ToXML - that can then be used to save that output to either an HTML or an XML file.

    To store output in a logger variable named $TestOutput use the following syntax:

    `-OutLoggerVariable TestOutput`

    Note: Do not use prepend a $ character when specifying the variable name. To save the information stored in the logger variable to an HTML file, use a command similar to this:

    `$TestOutput.ToHTML() \> C:\Logs\TestOutput.html`

    To save the information stored in the logger variable to an XML file, use a command similar to this:

    `$TestOutput.ToXML() \> C:\Logs\TestOutput.xml`

  defaultValue: None
  position: Named
  aliases: olv
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: OutVerboseVariable
  description: |+
    When present, detailed output from running the cmdlet will be stored in the specified variable.
    For example, to store output in a variable named $TestOutput use the following syntax:

    `-OutVerboseVariable TestOutput`

    Do not prepend a $ character when specifying the variable name.


  defaultValue: None
  position: Named
  aliases: ovv
  applicable:
  - Lync Server 2010
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: ProxyFqdn
  description: |+
    FQDN of the access proxy server used by the federated organization.

  defaultValue: None
  position: Named
  aliases: pe
  applicable:
  - Lync Server 2010
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: TargetFqdn
  isRequired: true
  description: |+
    FQDN of the access proxy server used by your organization for federated SIP traffic.
    The TargetFqdn must point to the internal Edge Server FQDN to which federated SIP traffic is directed.

  defaultValue: None
  position: "2"
  aliases: t
  applicable:
  - Lync Server 2010
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Verbose
  description: |+
    Reports detailed activity on the screen as the cmdlet runs.

  defaultValue: None
  position: Named
  aliases: vb
  applicable:
  - Lync Server 2010
  parameterValueGroup: ""
applicable:
- Lync Server 2010
- Lync Server 2013
- Skype for Business Server 2015
- Skype for Business Server 2019
uid: SkypeForBusiness.Test-CsFederatedPartner
name: Test-CsFederatedPartner
description: |-
  `Test-CsFederatedPartner` verifies your ability to connect to the domain of a federated partner.
  In order to verify the connectivity to a domain, that domain must be listed in the collection of allowed (federated) domains.
  Domains can be added to the allowed list by using the `New-CsAllowedDomain` cmdlet.
  When using this cmdlet, make sure that the TargetFqdn parameter points to the internal Edge Server FQDN to which federated SIP traffic is directed.
metadata:
  external help file: Microsoft.Rtc.Management.dll-help.xml
  online version: https://learn.microsoft.com/powershell/module/skype/test-csfederatedpartner
  applicable: Lync Server 2010, Lync Server 2013, Skype for Business Server 2015, Skype for Business Server 2019
  title: Test-CsFederatedPartner
  schema: 2.0.0
  manager: rogupta
  author: hirenshah1
  ms.author: hirshah
  ms.reviewer: ""
