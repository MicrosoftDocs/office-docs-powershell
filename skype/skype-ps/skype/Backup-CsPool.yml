### YamlMime:PowershellCmdlet
summary: |-
  Creates a backup copy of the specified Skype for Business Server pool.
  This cmdlet was introduced in Lync Server 2013.
module: SkypeForBusiness
notes: ""
inputs:
- name: <xref href=" " data-throw-if-not-resolved="False" />
  description: |-
    None.
    The `Backup-CsPool` cmdlet does not accept pipelined data.
outputs:
- name: <xref href=" " data-throw-if-not-resolved="False" />
  description: |-
    None.
links:
- text: Get-CsBackupServiceConfiguration
  href: Get-CsBackupServiceConfiguration.yml
- text: Get-CsBackupServiceStatus
  href: Get-CsBackupServiceStatus.yml
- text: Get-CsPoolBackupRelationship
  href: Get-CsPoolBackupRelationship.yml
syntaxes:
- >-
  Backup-CsPool -PoolFqdn <Fqdn> [-Category <BackupCategory>] [-Confirm] [-FailedOverPoolOnly] [-Force]

   [-FullBackup] [-LocalStore] [-Report <String>] [-RetryCount <Int32>] [-SteadyState] [-WaitTime <TimeSpan>]

   [-WhatIf] [<CommonParameters>]
examples:
- title: '-------------------------- Example 1 --------------------------'
  code: |-
    Backup-CsPool -PoolFqdn "atl-cs-001.litwareinc.com"
  description: |-
    The command shown in Example 1 backs up the pool atl-cs-001.litwareinc.com.
  summary: ""
- title: '-------------------------- Example 2 --------------------------'
  code: |-
    Backup-CsPool -PoolFqdn "atl-cs-001.litwareinc.com" -SteadyState
  description: |-
    In Example 2, a "steady state" backup is done for the pool atl-cs-001.litwareinc.com.
  summary: ""
parameters:
- type: <xref href="BackupCategory" data-throw-if-not-resolved="False" />
  name: Category
  description: |+
    Enables you to select the Skype for Business Server modules that will be backed up; if this parameter is not present then all the modules will be backed up.
    Allowed values are:

    * CMS
    * UserData
    * RGS

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before executing the command.

  defaultValue: None
  position: Named
  aliases: cf
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: FailedOverPoolOnly
  description: |+
    When specified, backup will take place only if the pool is in a failed over state.
    If you use this parameter then you must also use the FullBackup parameter.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Force
  description: |+
    Suppresses the display of any non-fatal error message that might occur when running the command.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: FullBackup
  description: |+
    When present, backup will not begin until the backup service has reached its final state.
    You cannot use both the FullBackup parameter and the SteadyState parameter in the same command.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: LocalStore
  description: |+
    Retrieves the topology information from the local replica of the Central Management store rather than from the Central Management store itself.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="Fqdn" data-throw-if-not-resolved="False" />
  name: PoolFqdn
  isRequired: true
  description: |+
    Fully qualified domain name of the pool being backed up.
    For example:

    `-SourcePoolFqdn "atl-cs-001.litwareinc.com"`

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: Report
  description: |+
    File path for the log file created when the cmdlet runs.
    For example:

    `-Report "C:\Logs\BackupPool.html"`

    If this file already exists, it will be overwritten when you run the cmdlet.

    By default, reports are written to the AppData\Local\Temp folder in your user profile.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="Int32" data-throw-if-not-resolved="False" />
  name: RetryCount
  description: |+
    Maximum number of times Backup-CsPool will try to call the backup service before failing.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: SteadyState
  description: |+
    When present, backup will not begin until the backup service has reached a steady state.
    A "steady state" occurs when the pool switches to read-only or failover/failback mode and no longer produces any new data that needs to be backed up.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="TimeSpan" data-throw-if-not-resolved="False" />
  name: WaitTime
  description: |+
    Amount of time (in seconds) that the cmdlet will wait before checking to see if the backup service is in either the full state or the steady state.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Describes what would happen if you executed the command without actually executing the command.

  defaultValue: None
  position: Named
  aliases: wi
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
applicable:
- Lync Server 2013
- Skype for Business Server 2015
- Skype for Business Server 2019
uid: SkypeForBusiness.Backup-CsPool
name: Backup-CsPool
description: |-
  The `Backup-CsPool` cmdlet enables administrators to copy user data and conference data for a Registrar pool to a specified backup pool.
  If the primary pool should fail or otherwise become unavailable, users homed on that primary pool can then be "failed over" to the backup pool.
  Those users can then log on to Skype for Business Server via the backup pool and continue to use that pool until their home pool has been restored.

  To return a list of all the role-based access control (RBAC) roles this cmdlet has been assigned to (including any custom RBAC roles you have created yourself), run the following command from the Windows PowerShell prompt:

  `Get-CsAdminRole | Where-Object {$_.Cmdlets -match "Backup-CsPool"}`

  Skype for Business Server Control Panel: The functions carried out by the Backup-CsPool cmdlet are not available in the Skype for Business Server Control Panel.
metadata:
  external help file: Microsoft.Rtc.Management.dll-help.xml
  online version: https://learn.microsoft.com/powershell/module/skype/backup-cspool
  applicable: Lync Server 2013, Skype for Business Server 2015, Skype for Business Server 2019
  title: Backup-CsPool
  schema: 2.0.0
  manager: rogupta
  author: hirenshah1
  ms.author: hirshah
  ms.reviewer: ""
