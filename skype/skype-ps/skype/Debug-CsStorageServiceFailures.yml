### YamlMime:PowershellCmdlet
summary: |-
  Use the Debug-CsStorageServiceFailures cmdlet to return debugging data for the Skype for Business Storage Service.
module: SkypeForBusiness
notes: ""
inputs:
- name: <xref href="None" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="System.String" data-throw-if-not-resolved="False" />
  description: ""
syntaxes:
- >-
  Debug-CsStorageServiceFailures [-AdapterId <Guid>] [-Binding <String>] [-Component <Component>]

   [-EndTime <DateTime>] [-Force] [-HostNameStorageService <String>] [-OutFileName <String>] [-SipUri <String>]

   [-StartTime <DateTime>] [<CommonParameters>]
examples:
- title: '-------------------------- Example 1 --------------------------'
  code: |-
    Debug-CsStorageServiceFailures -SipURI kmyer@contoso.com
  description: |-
    This example returns debugging information about storage service failures relating to user kmyer@contoso.com.
  summary: ""
- title: '-------------------------- Example 2 --------------------------'
  code: |-
    Debug-CsStorageServiceFailures -Component ConversationHistory
  description: |-
    This example returns debugging information about storage service failures relating to the conversation history component.
  summary: ""
parameters:
- type: <xref href="Guid" data-throw-if-not-resolved="False" />
  name: AdapterId
  description: |+
    Specifies the GUID of the data adapter on which to gather the debugging information.

  defaultValue: None
  position: Named
  aliases: g
  applicable:
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: Binding
  description: |+
    Specifies the Windows Communication Foundation (WCF) binding.
    A WCF binding determines the transport, encoding, and protocol details required for clients and services to communicate with each other.
    Valid values are:

    - NetNamedPipe
    - NetTCP

  defaultValue: None
  position: Named
  aliases: b
  applicable:
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="Component" data-throw-if-not-resolved="False" />
  name: Component
  description: |+
    Specifies the storage service component for which debug information will be returned.
    Acceptable values for the Component parameter are:

    - ConversationHistory
    - ExchangeArchiving
    - SqlArchiving
    - QoE
    - CDR
    - LegalIntercept
    - DataPurge
    - Other

  defaultValue: None
  position: Named
  aliases: c
  applicable:
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="DateTime" data-throw-if-not-resolved="False" />
  name: EndTime
  description: |+
    The EndDate parameter specifies the end date of the date range.

    Use the short date format defined in the Regional Options settings for the computer on which the command is run.
    For example, if the computer is configured to use the short date format mm/dd/yyyy, enter 03/01/2018 to specify March 1, 2018.
    You can enter the date only, or you can enter the date and time of day.
    If you enter the date and time of day, you must enclose the argument in quotation marks ("), for example, "10/05/2018 5:00 PM".

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Force
  description: |+
    Suppresses the display of any non-fatal error messages and completes the cmdlet operation.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: HostNameStorageService
  description: |+
    Fully qualified domain name of the server where the Skype for Business Storage Service is running.
    This parameter is required if the Binding parameter is set to NetTCP.

  defaultValue: None
  position: Named
  aliases: h
  applicable:
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: OutFileName
  description: |+
    Specifies the full path of where to write a text file containing the debug results.
    Otherwise, they are written to the console.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: SipUri
  description: |+
    Specifies the Session Initiation Protocol (SIP) Uniform Resource Identifier (URI) of the user on which to collect debug data.
    This is the SIPAddress property of the user as returned by the Get-CsUser cmdlet.

  defaultValue: None
  position: Named
  aliases: s
  applicable:
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="DateTime" data-throw-if-not-resolved="False" />
  name: StartTime
  description: |+
    The StartDate parameter specifies the start date of the date range.

    Use the short date format defined in the Regional Options settings for the computer on which the command is run.
    For example, if the computer is configured to use the short date format mm/dd/yyyy, enter 03/01/2018 to specify March 1, 2018.
    You can enter the date only, or you can enter the date and time of day.
    If you enter the date and time of day, you must enclose the argument in quotation marks ("), for example, "10/05/2018 5:00 PM".

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
applicable:
- Skype for Business Server 2015
- Skype for Business Server 2019
uid: SkypeForBusiness.Debug-CsStorageServiceFailures
name: Debug-CsStorageServiceFailures
description: |-
  The information returned can vary by system configuration.
  The following is a generic sample of the information returned with for a user specified by the SipUri parameter.

  AdapterId : bc24207f-08a7-4569-b984-a90f78a49d46

  EndpointId : archcdruser2@vdomain.com

  EndpointStatusTime : 5/8/2018 6:33:52 PM

  EndpointStatusDetail : StoreWebException: code=ErrorEwsAutodiscover, reason=GetUserSettings

  failed, smtpAddress=archcdruser0@vdomain.com, Autodiscover

  Uri=https://dc.vdomain.com/autodiscover/badautodiscover.svc, Autodiscover

  WebProxy=\<NULL\>, WebExceptionStatus=ProtocolError ---\>

  System.Net.WebException: The remote server returned an error: (404) Not

  Found.

  at System.Net.HttpWebRequest.GetResponse()

  at Microsoft.Exchange.WebServices.Data.EwsHttpWebRequest.Microsoft.Exchan

  ge.WebServices.Data.IEwsHttpWebRequest.GetResponse()

  at Microsoft.Exchange.WebServices.Autodiscover.AutodiscoverRequest.Intern

  alExecute()

  --- End of inner exception stack trace ---

  at Microsoft.Rtc.Internal.Storage.Exchange.ExchangeContext.SendGetUserSet

  tingsRequest(StoreContext ctx, String smtpAddress) in c:\depot\lcs\hf\src\de

  v\server\lcs\lyss\LyssService\Exchange\ExchangeContext.cs:line 250

  at Microsoft.Rtc.Internal.Storage.Exchange.ExchangeContext.GetUserEwsSett

  ings(StoreContext ctx, String smtpAddress, CacheMode cacheMode) in c:\depot\

  lcs\hf\src\dev\server\lcs\lyss\LyssService\Exchange\ExchangeContext.cs:line

  656

  Other :
metadata:
  external help file: Microsoft.Rtc.Management.dll-help.xml
  online version: https://learn.microsoft.com/powershell/module/skype/debug-csstorageservicefailures
  applicable: Skype for Business Server 2015, Skype for Business Server 2019
  title: Debug-CsStorageServiceFailures
  schema: 2.0.0
  manager: rogupta
  author: hirenshah1
  ms.author: hirshah
  ms.reviewer: ""
