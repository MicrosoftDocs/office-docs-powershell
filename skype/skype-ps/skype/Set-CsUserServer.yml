### YamlMime:PowershellCmdlet
summary: |-
  Enables you to modify an existing User Services pool.
  Among other things, the User Services pool provides presence information and helps to manage conferences.
  This cmdlet was introduced in Lync Server 2010.
module: SkypeForBusiness
notes: ""
inputs:
- name: <xref href=" " data-throw-if-not-resolved="False" />
  description: |-
    None.
    The `Set-CsUserServer` cmdlet does not accept pipelined input.
outputs:
- name: <xref href=" " data-throw-if-not-resolved="False" />
  description: |-
    The `Set-CsUserServer` cmdlet does not return any objects or values.
    Instead, the cmdlet modifies existing instances of the Microsoft.Rtc.Management.Xds.DisplayUserServer object.
links:
- text: Get-CsService
  href: Get-CsService.yml
syntaxes:
- >-
  Set-CsUserServer [[-Identity] <XdsGlobalRelativeIdentity>] [-ConferenceServer <String>]

   [-McuFactorySipPort <UInt16>] [-UserDatabase <String>] [-Force] [-WhatIf] [-Confirm]

   [-ConfDirManagementWcfTcpPort <UInt16>] [-UserPinManagementWcfHttpPort <UInt16>] [<CommonParameters>]
examples:
- title: '-------------------------- Example 1 ------------------------'
  code: |-
    Set-CsUserServer -Identity "UserServer:atl-cs-001.litwareinc.com" -McuFactorySipPort 445
  description: |-
    The command shown in Example 1 changes the McuFactorySipPort for a single User Services pool: the pool with the Identity `UserServer:atl-cs-001.litwareinc.com`.
    In this example, the port is changed to 445.
  summary: ""
- title: '-------------------------- Example 2 ------------------------'
  code: |-
    Get-CsService -UserServer | ForEach-Object {Set-CsUserServer -Identity $_.Identity -McuFactorySipPort 445}
  description: |-
    The command shown in Example 2 is a variation of the command shown in Example 1.
    In this case, however, the McuFactorySipPort is modified for all the User Services pools in the organization.
    To do this, the command starts off by using the `Get-CsService` cmdlet and the UserServer parameter to return a collection of all the User Services pool currently in use.
    This collection is then piped to the `ForEach-Object` cmdlet, which takes each pool in the collection and sets the McuFactorySipPort to 445.
    The data must be piped to the `ForEach-Object` cmdlet because the `Set-CsUserServer` cmdlet cannot accept pipelined data itself.
  summary: ""
parameters:
- type: <xref href="UInt16" data-throw-if-not-resolved="False" />
  name: ConfDirManagementWcfTcpPort
  description: |+
    Windows Communication Foundation (WCF) port used for managing conference directories.
    The default value is 9001.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: ConferenceServer
  description: |+
    Service ID for the conferencing server associated with the User Services pool.
    For example:

    `-ConferenceServer "ConferenceServer:atl-cs-001.litwareinc.com"`


  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2010
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before executing the command.

  defaultValue: None
  position: Named
  aliases: cf
  applicable:
  - Lync Server 2010
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Force
  description: |+
    Suppresses the display of any non-fatal error message that might arise when running the command.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2010
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="XdsGlobalRelativeIdentity" data-throw-if-not-resolved="False" />
  name: Identity
  description: |+
    Unique identifier for the User Services pool to be modified.
    For example:

    `-Identity "UserServer:atl-cs-001.litwareinc.com"`

    Note that you can leave off the prefix "UserServer:" when specifying a User server.
    For example:

    `-Identity "atl-cs-001.litwareinc.com"`


  defaultValue: None
  position: "2"
  aliases: ""
  applicable:
  - Lync Server 2010
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="UInt16" data-throw-if-not-resolved="False" />
  name: McuFactorySipPort
  description: |+
    Port used for connecting to the Focus Factory (McuFactory).
    The Focus Factory allocates media control units (MCUs) in order to add specific media types such as audio to conferences.


  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2010
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: UserDatabase
  description: |+
    Service ID for the user database associated with the User Services pool.
    For example:

    `-UserDatabase "UserDatabase:atl-cs-001.litwareinc.com"`


  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2010
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="UInt16" data-throw-if-not-resolved="False" />
  name: UserPinManagementWcfHttpPort
  description: |+
    Port used by Windows Communication Foundation (WCF) when managed user PINs.
    The default value is 443.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Describes what would happen if you executed the command without actually executing the command.

  defaultValue: None
  position: Named
  aliases: wi
  applicable:
  - Lync Server 2010
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
applicable:
- Lync Server 2010
- Lync Server 2013
- Skype for Business Server 2015
- Skype for Business Server 2019
uid: SkypeForBusiness.Set-CsUserServer
name: Set-CsUserServer
description: |-
  User Services is a catch-all component that performs a number of key Skype for Business Server roles; for example, User Services provides presence information; helps to manage conferences (through the Focus and Focus Factory); handles user authorization and user-level routing and serves as the primary interface to the back-end database.
  User Services also assists with provisioning user accounts.

  Because of this, it is important for administrators to know exactly how their User Services pools have been configured and, if necessary, to modify those configurations.
  You can retrieve information about your User Services pools by using this command:

  `Get-CsService -UserServer`

  Likewise, you can use the `Set-CsUserServer` cmdlet to make changes to any of these pools.
  The `Set-CsUserServer` cmdlet enables administrators to change the user database and/or the conferencing server associated with a pool.
  The cmdlet also lets you modify the port used for connections to the Focus Factory.
metadata:
  external help file: Microsoft.Rtc.Management.dll-help.xml
  online version: https://learn.microsoft.com/powershell/module/skype/set-csuserserver
  applicable: Lync Server 2010, Lync Server 2013, Skype for Business Server 2015, Skype for Business Server 2019
  title: Set-CsUserServer
  schema: 2.0.0
  manager: rogupta
  author: hirenshah1
  ms.author: hirshah
  ms.reviewer: ""
