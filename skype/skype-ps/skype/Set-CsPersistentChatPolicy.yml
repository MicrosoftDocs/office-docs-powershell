### YamlMime:PowershellCmdlet
summary: |-
  Modifies an existing Persistent Chat policy.
  Persistent Chat policies determine whether or not users are allowed access to Persistent Chat chat rooms.
  This cmdlet was introduced in Lync Server 2013.
module: SkypeForBusiness
notes: ""
inputs:
- name: <xref href=" " data-throw-if-not-resolved="False" />
  description: |-
    The `Set-CsPersistentChatPolicy` cmdlet accepts pipelined instances of the Microsoft.Rtc.Management.WritableConfig.Policy.PersistentChat.PersistentChatPolicy object.
outputs:
- name: <xref href=" " data-throw-if-not-resolved="False" />
  description: |-
    None.
    Instead, the `Set-CsPersistentChatPolicy` cmdlet modifies existing instances of the Microsoft.Rtc.Management.WritableConfig.Policy.PersistentChat.PersistentChatPolicy object.
links:
- text: Get-CsPersistentChatPolicy
  href: Get-CsPersistentChatPolicy.yml
- text: Grant-CsPersistentChatPolicy
  href: Grant-CsPersistentChatPolicy.yml
- text: New-CsPersistentChatPolicy
  href: New-CsPersistentChatPolicy.yml
- text: Remove-CsPersistentChatPolicy
  href: Remove-CsPersistentChatPolicy.yml
syntaxes:
- >-
  Set-CsPersistentChatPolicy [[-Identity] <XdsIdentity>] [-Confirm] [-Description <String>]

   [-EnablePersistentChat <Boolean>] [-Force] [-WhatIf] [-Tenant <Guid>] [<CommonParameters>]
- >-
  Set-CsPersistentChatPolicy [-Confirm] [-Description <String>] [-EnablePersistentChat <Boolean>] [-Force]

   [-Instance <PSObject>] [-WhatIf] [-Tenant <Guid>] [<CommonParameters>]
examples:
- title: '-------------------------- Example 1 --------------------------'
  code: |-
    Get-CsPersistentChatPolicy | Set-CsPersistentChatPolicy -EnablePersistentChat $True
  description: |-
    In Example 2, Persistent Chat is enabled for all the Persistent Chat policies in the organization.
    To do this, the command first uses the `Get-CsPersistentChatPolicy` cmdlet without any parameters in order to return a collection of all the Persistent Chat policies.
    This collection is then piped to the `Set-CsPersistentChatPolicy` cmdlet, which sets the EnablePersistentChat parameter for each policy in the collection to True ($True).
  summary: ""
parameters:
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before executing the command.

  defaultValue: None
  position: Named
  aliases: cf
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: Description
  description: |+
    Enables administrators to provide explanatory text to accompany the policy.
    For example, the Description might include information about the users the policy should be assigned to.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  parameterValueGroup: ""
- type: <xref href="Boolean" data-throw-if-not-resolved="False" />
  name: EnablePersistentChat
  description: |+
    When set to True users affected by the policy will be allowed to use Persistent Chat.
    When set to False (the default value) users affected by the policy will not be allowed to use Persistent Chat.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Force
  description: |+
    Suppresses the display of any non-fatal error message that might occur when running the command.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  parameterValueGroup: ""
- type: <xref href="XdsIdentity" data-throw-if-not-resolved="False" />
  name: Identity
  description: |+
    Unique identity of the Persistent Chat policy to be modified.
    To modify the global policy, use this syntax:

    `-Identity global`

    To modify a site-scoped policy, use this syntax:

    `-Identity site:Redmond`

    To modify a per-user policy, use syntax similar to this:

    `-Identity RedmondPolicy`

    If you do not include the Identity parameter the `Set-CsPersistentChatPolicy` cmdlet will automatically modify the global policy.


  defaultValue: None
  position: "2"
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  parameterValueGroup: ""
- type: <xref href="PSObject" data-throw-if-not-resolved="False" />
  name: Instance
  description: |+
    Allows you to pass a reference to an object to the cmdlet rather than set individual parameter values.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  parameterValueGroup: ""
- type: <xref href="Guid" data-throw-if-not-resolved="False" />
  name: Tenant
  description: |+
    Globally unique identifier (GUID) of the Skype for Business Online tenant account for whom the Persistent Chat policy is being modified.
    For example:

    `-Tenant "38aad667-af54-4397-aaa7-e94c79ec2308"`

    You can return the tenant ID for each of your Skype for Business Online tenants by running this command:

    `Get-CsTenant | Select-Object DisplayName, TenantID`

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Skype for Business Server 2015
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Describes what would happen if you executed the command without actually executing the command.

  defaultValue: None
  position: Named
  aliases: wi
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  parameterValueGroup: ""
applicable:
- Lync Server 2013
- Skype for Business Server 2015
uid: SkypeForBusiness.Set-CsPersistentChatPolicy
name: Set-CsPersistentChatPolicy
description: |-
  The Persistent Chat service (which replaces the Group Chat service used in Microsoft Lync Server 2010) provides organizations with messaging and collaboration capabilities similar to those found in Internet discussion forums: users can exchange messages in real-time, yet can also revisit and restart those conversations at any time.
  Conversations can be based around specific topics and these conversations can be made available to everyone or to only a selected set of users.
  Likewise, individual chat rooms can be configured so that anyone can post a message or configured so that only designated presenters can post messages.

  By default, users are not granted access to the Persistent Chat service; that access can only be granted if the user is managed by a Persistent Chat policy that allows for the user of the service.
  When you install Skype for Business Server, all your users are managed by a global Persistent Chat policy in which the use of Persistent Chat is disabled.
  If you want to give all your users access to the service you can simply set the EnablePersistentChat property in this global policy to True.
  Alternatively, you can create additional policies at the site or at the per-user scope, and thus provide Persistent Chat access to some users while denying this access to other users.

  Skype for Business Server Control Panel: To modify an existing Persistent Chat policy using the Skype for Business Server Control Panel, click Persistent Chat, click Persistent Chat Policy, then double-click the policy to be modified.
metadata:
  external help file: Microsoft.Rtc.Management.dll-help.xml
  online version: https://learn.microsoft.com/powershell/module/skype/set-cspersistentchatpolicy
  applicable: Lync Server 2013, Skype for Business Server 2015
  title: Set-CsPersistentChatPolicy
  schema: 2.0.0
  manager: rogupta
  author: hirenshah1
  ms.author: hirshah
  ms.reviewer: ""
