### YamlMime:PowershellCmdlet
summary: |-
  Tests the configuration of the Skype for Business Server databases.
  This cmdlet was introduced in Lync Server 2013.
module: SkypeForBusiness
notes: ""
inputs:
- name: <xref href=" " data-throw-if-not-resolved="False" />
  description: |-
    None.
    The `Test-CsDatabase` cmdlet does not accept pipelined input.
outputs:
- name: <xref href=" " data-throw-if-not-resolved="False" />
  description: |-
    The `Test-CsDatabase` cmdlet returns an instance of the Microsoft.Rtc.SyntheticTransactions.TaskOutput object.
links:
- text: Get-CsDatabaseMirrorState
  href: Get-CsDatabaseMirrorState.yml
- text: Get-CsService
  href: Get-CsService.yml
- text: Get-CsUserDatabaseState
  href: Get-CsUserDatabaseState.yml
syntaxes:
- >-
  Test-CsDatabase [-CentralManagementDatabase] [-SqlServerFqdn <Fqdn>] [-Confirm] [-Report <String>]

   [-SqlInstanceName <String>] [-WhatIf] [<CommonParameters>]
- >-
  Test-CsDatabase [-ConfiguredDatabases] -SqlServerFqdn <Fqdn> [-Confirm] [-Report <String>] [-WhatIf]

   [<CommonParameters>]
- >-
  Test-CsDatabase -DatabaseType <DatabaseNameType> -SqlServerFqdn <Fqdn> [-Confirm] [-Report <String>]

   [-SqlInstanceName <String>] [-WhatIf] [<CommonParameters>]
- Test-CsDatabase [-LocalService] [-Confirm] [-Report <String>] [-WhatIf] [<CommonParameters>]
examples:
- title: '-------------------------- Example 1 --------------------------'
  code: |-
    Test-CsDatabase -CentralManagementDatabase
  description: |-
    The command shown in Example 1 verifies the configuration of the Central Management database.
  summary: ""
- title: '-------------------------- Example 2 --------------------------'
  code: |-
    Test-CsDatabase -ConfiguredDatabases -SqlServerFqdn "atl-sql-001.litwareinc.com"
  description: |-
    Example 2 verifies all the Skype for Business Server databases installed on the computer atl-sql-001.litwareinc.com.
  summary: ""
- title: '-------------------------- Example 3 --------------------------'
  code: |-
    Test-CsDatabase -DatabaseType "Archiving" -SqlServerFqdn "atl-sql-001.litwareinc.com" -SqlInstanceName "archinst"
  description: |-
    In Example 3, verification is performed only for the Archiving database installed on the computer atl-sql-001.litwareinc.com.
    Note that the SqlInstanceName parameter is included to specify the SQL Server instance (Archinst) where the Archiving database is located.
  summary: ""
- title: '-------------------------- Example 4 --------------------------'
  code: |-
    Test-CsDatabase -LocalService
  description: |-
    The command shown in Example 4 verifies the databases installed on the local computer.
  summary: ""
parameters:
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: CentralManagementDatabase
  isRequired: true
  description: |+
    Tests the configuration of the Central Management database.
    This parameter cannot be used in conjunction with the ConfiguredDatabases parameter or the DatabaseType parameter.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: ConfiguredDatabases
  isRequired: true
  description: |+
    Tests the configuration of all the Skype for Business Server databases installed on the specified computer.
    You must include the SqlServerFqdn parameter when using the ConfiguredDatabases parameter.
    In addition, this parameter cannot be used in the same command as the CentralManagementDatabase or the DatabaseType parameters.


  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before executing the command.

  defaultValue: None
  position: Named
  aliases: cf
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="DatabaseNameType" data-throw-if-not-resolved="False" />
  name: DatabaseType
  isRequired: true
  description: |+
    Type of database to be validated.
    Allowed values are:

    Valid values for DatabaseType are:

    ActiveMonitoring

    Application

    Archiving

    CentralMgmt

    Edge

    Lyss

    Monitoring

    PersistentChat

    PersistentChatCompliance

    Provision

    Registrar

    SigninTelemetry

    User


  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: LocalService
  isRequired: true
  description: |+
    Validates all the databases used by any of the Skype for Business Server services that are installed on the local computer.
    This includes not only locally-installed databases but also databases installed on remote computers, provided those databases are used by one or more local services.


  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: Report
  description: |+
    Enables you to specify a file path for the log file created when the cmdlet runs.
    For example:

    `-Report "C:\Logs\TestDatabases.html"`

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: SqlInstanceName
  description: |+
    SQL Server instance where the databases to be validated are installed.
    For example:

    `-SqlInstanceName "rtc"`

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="Fqdn" data-throw-if-not-resolved="False" />
  name: SqlServerFqdn
  isRequired: true
  description: |+
    Fully qualified domain name of the computer whether the databases to be validated are installed.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Describes what would happen if you executed the command without actually executing the command.

  defaultValue: None
  position: Named
  aliases: wi
  applicable:
  - Lync Server 2013
  - Skype for Business Server 2015
  - Skype for Business Server 2019
  parameterValueGroup: ""
applicable:
- Lync Server 2013
- Skype for Business Server 2015
- Skype for Business Server 2019
uid: SkypeForBusiness.Test-CsDatabase
name: Test-CsDatabase
description: |-
  The `Test-CsDatabase` cmdlet verifies connectivity to one or more Skype for Business Server databases.
  When run, the `Test-CsDatabase` cmdlet reads the Skype for Business Server topology, attempts to connect each of the relevant databases, and then reports back the success or failure of each attempt.
  If a connection can be made, the cmdlet will also report back such information as the database name, SQL Server version information, and the location of any installed mirror databases.

  Skype for Business Server Control Panel: The functions carried out by the `Test-CsDatabase` cmdlet are not available in the Skype for Business Server Control Panel.
metadata:
  external help file: Microsoft.Rtc.Management.dll-help.xml
  online version: https://learn.microsoft.com/powershell/module/skype/test-csdatabase
  applicable: Lync Server 2013, Skype for Business Server 2015, Skype for Business Server 2019
  title: Test-CsDatabase
  schema: 2.0.0
  manager: rogupta
  author: hirenshah1
  ms.author: hirshah
  ms.reviewer: ""
